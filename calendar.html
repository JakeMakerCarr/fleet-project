<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>YFNED Fleet Calendar</title>

  <!-- FullCalendar CSS -->
  <link href="https://cdn.jsdelivr.net/npm/fullcalendar@6.1.8/index.global.min.css" rel="stylesheet"/>

  <!-- Timepicker CSS -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/timepicker/1.3.5/jquery.timepicker.min.css"/>

  <!-- Custom Styles -->
  <link rel="stylesheet" href="style.css" />

  <style>
    body {
      background: url('skybackgroundmidnightfeather.png') no-repeat center center fixed;
      background-size: cover;
      font-family: Arial, sans-serif;
      color: #000;
      padding: 20px;
    }
    .controls {
      margin-bottom: 20px;
    }
    input, select, button {
      margin: 5px;
      padding: 5px;
    }
    #calendar {
      background-color: #fff;
      padding: 10px;
      border-radius: 8px;
    }
  </style>
</head>
<body>
  <h2>YFNED Fleet Calendar</h2>

  <div class="controls">
    <label for="vehicle-select">Select a Vehicle:</label>
    <select id="vehicle-select">
      <option value="01-20 2021 Red Traverse CM335">01-20 2021 Red Traverse CM335</option>
      <option value="Grey Traverse">Grey Traverse</option>
      <option value="Black Traverse">Black Traverse</option>
      <option value="Ebony Buick Encore">Ebony Buick Encore</option>
      <option value="Grey Grand Caravan">Grey Grand Caravan</option>
      <option value="Silver Pathfinder">Silver Pathfinder</option>
      <option value="White Highlander">White Highlander</option>
      <option value="Blue Escape">Blue Escape</option>
      <option value="White Rav4">White Rav4</option>
      <option value="Red Jeep Compass">Red Jeep Compass</option>
      <option value="Silver Grand Caravan">Silver Grand Caravan</option>
      <option value="White F150 Truck">White F150 Truck</option>
      <option value="Silver Explorer">Silver Explorer</option>
      <option value="Charcoal Acadia">Charcoal Acadia</option>
      <option value="Gold Grand Caravan">Gold Grand Caravan</option>
      <option value="Silver Outlander">Silver Outlander</option>
      <option value="Black Edge">Black Edge</option>
      <option value="Black Jeep Cherokee">Black Jeep Cherokee</option>
    </select>

    <h4>Book This Vehicle</h4>
    <label>Start Date (Mon-Fri only):</label>
    <input type="date" id="booking-start-date"/>
    <label>End Date (Mon-Fri only):</label>
    <input type="date" id="booking-end-date"/>

    <input type="text" id="booking-start-time" placeholder="e.g. 8:00 AM" readonly/>
    <input type="text" id="booking-end-time" placeholder="e.g. 4:30 PM" readonly/>

    <button onclick="bookVehicle()">Book Vehicle</button>
    <button onclick="signOutNow()">Sign Out Selected Vehicle Now</button>
    <button onclick="returnNow()">Return Vehicle Now</button>
  </div>

  <div id="calendar"></div>

  <!-- Firebase SDK -->
  <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-auth.js"></script>

  <!-- FullCalendar -->
  <script src="https://cdn.jsdelivr.net/npm/fullcalendar@6.1.8/index.global.min.js"></script>

  <!-- jQuery + Timepicker -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.0/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/timepicker/1.3.5/jquery.timepicker.min.js"></script>

  <script>
    // Replace this with your actual Firebase config
    const firebaseConfig = {
  apiKey: "AIzaSyAjnCWLnUf8msIUjL0TBdZ1eCAiXMLOwvU",
  authDomain: "yfned-fleet-nfc.firebaseapp.com",
  databaseURL: "https://yfned-fleet-nfc-default-rtdb.firebaseio.com",
  projectId: "yfned-fleet-nfc",
  storageBucket: "yfned-fleet-nfc.firebasestorage.app",
  messagingSenderId: "482363667898",
  appId: "1:482363667898:web:4b0364e891a221e9631983",
  measurementId: "G-LK66DQVKW4"
};

    firebase.initializeApp(firebaseConfig);

    // Setup FullCalendar
    document.addEventListener('DOMContentLoaded', function () {
      const calendarEl = document.getElementById('calendar');
      const calendar = new FullCalendar.Calendar(calendarEl, {
        initialView: 'dayGridMonth',
        height: 'auto',
        events: [] // Later fill with Firebase data
      });
      calendar.render();
    });

    // Timepickers
    $('#booking-start-time').timepicker({
      timeFormat: 'h:mm p',
      interval: 30,
      minTime: '6:00am',
      maxTime: '9:00pm',
      defaultTime: '8:00am',
      startTime: '6:00am',
      dynamic: false,
      dropdown: true,
      scrollbar: true
    });

    $('#booking-end-time').timepicker({
      timeFormat: 'h:mm p',
      interval: 30,
      minTime: '6:00am',
      maxTime: '9:00pm',
      defaultTime: '4:30pm',
      startTime: '6:00am',
      dynamic: false,
      dropdown: true,
      scrollbar: true
    });

    function bookVehicle() {
      const vehicle = document.getElementById("vehicle-select").value;
      const startDate = document.getElementById("booking-start-date").value;
      const endDate = document.getElementById("booking-end-date").value;
      const startTime = document.getElementById("booking-start-time").value;
      const endTime = document.getElementById("booking-end-time").value;

      if (!vehicle || !startDate || !endDate || !startTime || !endTime) {
        alert("Please fill in all booking details.");
        return;
      }

      // Logic to store booking in Firebase under bookings/vehicle/date
      alert(`Booking ${vehicle} from ${startDate} ${startTime} to ${endDate} ${endTime}`);
    }

    function signOutNow() {
      const vehicle = document.getElementById("vehicle-select").value;
      alert(`Signing out vehicle now: ${vehicle}`);
    }

    function returnNow() {
      const vehicle = document.getElementById("vehicle-select").value;
      alert(`Returning vehicle now: ${vehicle}`);
    }
  </script>
</body>
</html>
